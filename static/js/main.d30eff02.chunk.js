(this.webpackJsonpsweetreact=this.webpackJsonpsweetreact||[]).push([[0],{355:function(e,t,n){e.exports=n(591)},552:function(e,t,n){},553:function(e,t,n){},561:function(e,t){},562:function(e,t){},570:function(e,t){},591:function(e,t,n){"use strict";n.r(t);n(356),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(381),n(383),n(384),n(179),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(398),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(410),n(411),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(436),n(437),n(438),n(439),n(440),n(441),n(442),n(443),n(444),n(445),n(446),n(448),n(449),n(450),n(451),n(458),n(459),n(460),n(462),n(463),n(464),n(465),n(466),n(467),n(468),n(469),n(470),n(471),n(472),n(286),n(475),n(476),n(477),n(478),n(479),n(480),n(481),n(289),n(482),n(483),n(484),n(485),n(486),n(487),n(489),n(491),n(492),n(493),n(494),n(495),n(496),n(501),n(502),n(503),n(504),n(505),n(506),n(507),n(508),n(509),n(510),n(511),n(512),n(515),n(516),n(517),n(518),n(519),n(520),n(521),n(522),n(523),n(524),n(525),n(526),n(527),n(528),n(529),n(530),n(531),n(532),n(533),n(534),n(535),n(536),n(538),n(539),n(540),n(541),n(543),n(300);var i=n(6),a=n.n(i),o=n(121),r=n.n(o),l=n(169),c=n(612),s=n(307),u=n(308),d=n(609),m=n(140),g=n.n(m);n(548),n(549),l.a.use(d.a).use(s.a).use(u.a).init({fallbackLng:"en",ns:["translations"],defaultNS:"translations",load:"unspecific",debug:!1,saveMissing:!0,interpolation:{escapeValue:!1,formatSeparator:",",format:function(e,t){return e instanceof Date?"relative"===t?g()(e).fromNow():g()(e).format(t):e.toString()}},returnObjects:!0,react:{useSuspense:!0,defaultTransParent:"span"}}),l.a.on("languageChanged",(function(e){g.a.locale(e)})),l.a.on("missingKey",(function(e,t,n){var i=new Error("Missing translation key in ".concat(e,": ").concat(n));c.a(i)}));l.a,n(301),n(550),n(551),n(552),n(553),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var h,b,y=n(8),f=n(15),p=n(47),x=n(46),v=n(247),M=n(55),w=n(339),E=n(41),k=n.n(E),R=n(164),O=n.n(R),j=function(){var e=Object(i.useRef)(null),t=Object(i.useRef)(null);return a.a.createElement("div",null,a.a.createElement(O.a,{ref:e,style:{position:"absolute",marginLeft:"auto",marginRight:"auto",left:0,right:0,textAlign:"center",zindex:9,width:720,height:500}}),a.a.createElement("canvas",{ref:t,style:{position:"absolute",marginLeft:"auto",marginRight:"auto",left:0,right:0,textAlign:"center",zindex:9,width:720,height:500}}))},D=n(73),S=n(34),T=n(9),C=n.n(T),N=n(12),z=n(7),I=n(109),A=(n(556),n(611)),B=n(211),L=(n(0),n(590),n(168)),W=n.n(L),P=2*Date.now(),H={xMinRatio:.36,xMaxRatio:.64,yMinRatio:.36,yMaxRatio:.66},X=.01,F=.01,G=.01,V=.01,Y=!0,q=!1,J=1,K=1,$=0,_=0,Q="medium",U="nose",Z=!1,ee=!1,te=null,ne=0,ie=0,ae=P,oe=P,re=P,le=0,ce=0,se=0,ue=0,de=0,me=!1,ge=function(e){var t=e.x1,n=e.y1,i=e.x2-t,a=e.y2-n,o=e.x3-t,r=e.y3-n;return Math.abs(i*r-a*o)},he=function(e){var t=e.x1,n=e.y1,i=e.x2,a=e.y2,o=e.x3;return(i-t)*(e.y3-n)-(a-n)*(o-t)},be=function(e){var t=e.keypoints;if(t.length<3)return 0;for(var n=0,i=0;i<t.length-2;i++)n+=he({x1:t[0].x,y1:t[0].y,x2:t[i+1].x,y2:t[i+1].y,x3:t[i+2].x,y3:t[i+2].y});return n},ye=function(e){var t=e.x1,n=e.y1,i=e.x2-t,a=e.y2-n;return Math.sqrt(i*i+a*a)},fe=function(e){return Math.round(100*e)},pe=function(e){var t=e.xMinRatio,n=e.xMaxRatio,i=e.yMinRatio,a=e.yMaxRatio,o=Math.max(.04,Math.min(.6,n-t)),r=Math.max(.04,Math.min(.6,a-i)),l=Math.max(.1+o/2,Math.min(.9-o/2,(t+n)/2)),c=Math.max(.1+r/2,Math.min(.9-r/2,(i+a)/2));return{xMinRatio:l-o/2,xMaxRatio:l+o/2,yMinRatio:c-r/2,yMaxRatio:c+r/2}},xe=function(e,t){document.getElementById("slam-values").setAttribute(e,t)},ve=function(e){var t=e.message,n=e.displayTimeInMs,i=(""+Math.random()).slice(3);document.getElementById("toaster").setAttribute("toastid",i),document.getElementById("toaster").style.opacity=1,document.getElementById("toaster-message").textContent=t,xe("toaster-message",t),setTimeout((function(){document.getElementById("toaster").getAttribute("toastid")===i&&(document.getElementById("toaster").style.opacity=0,xe("toaster-message",""))}),n)},Me=function(){var e=Object(i.useState)(!1),t=Object(z.a)(e,2),n=(t[0],t[1]),o=Object(i.useState)(!1),r=Object(z.a)(o,2),l=r[0],c=r[1],s=Object(i.useState)(!1),u=Object(z.a)(s,2),d=u[0],m=u[1],g=Object(i.useState)("nose"),y=Object(z.a)(g,2),f=y[0],p=y[1],x=Object(i.useState)("medium"),v=Object(z.a)(x,2),M=v[0],w=v[1],E=Object(i.useState)(!1),k=Object(z.a)(E,2),R=(k[0],k[1]),j=Object(i.useState)(null),T=Object(z.a)(j,2),he=T[0],Me=T[1],we=Object(i.useState)(0),Ee=Object(z.a)(we,2),ke=Ee[0],Re=(Ee[1],Object(i.useState)(!1)),Oe=Object(z.a)(Re,2),je=Oe[0],De=Oe[1],Se=Object(i.useState)(!1),Te=Object(z.a)(Se,2),Ce=(Te[0],Te[1]),Ne=Object(i.useState)(!1),ze=Object(z.a)(Ne,2),Ie=ze[0],Ae=ze[1],Be=Object(i.useState)(!0),Le=Object(z.a)(Be,2),We=(Le[0],Le[1]),Pe=Object(i.useState)(0),He=Object(z.a)(Pe,2),Xe=He[0],Fe=He[1],Ge=Object(i.useState)(0),Ve=Object(z.a)(Ge,2),Ye=Ve[0],qe=Ve[1],Je=Object(i.useState)(null),Ke=Object(z.a)(Je,2),$e=Ke[0],_e=Ke[1],Qe=Object(i.useState)(1),Ue=Object(z.a)(Qe,2),Ze=(Ue[0],Ue[1]),et=Object(i.useState)(1),tt=Object(z.a)(et,2),nt=(tt[0],tt[1]),it=Object(i.useState)(1),at=Object(z.a)(it,2),ot=(at[0],at[1]),rt=Object(i.useState)(0),lt=Object(z.a)(rt,2),ct=lt[0],st=lt[1],ut=Object(i.useState)(1),dt=Object(z.a)(ut,2),mt=dt[0],gt=dt[1],ht=Object(i.useState)(1),bt=Object(z.a)(ht,2),yt=bt[0],ft=bt[1],pt=Object(i.useState)(!1),xt=Object(z.a)(pt,2),vt=xt[0],Mt=xt[1],wt=Object(i.useState)(void 0),Et=Object(z.a)(wt,2),kt=Et[0],Rt=Et[1],Ot=Object(i.useRef)(null),jt=Object(i.useRef)(null),Dt=Object(L.useSpeechRecognition)(),St=Dt.transcript,Tt=(Dt.listening,Dt.resetTranscript),Ct=null;Object(i.useEffect)((function(){if(St&&0===I.a.last(St.split(" ")).toLowerCase().indexOf("annul"))return Tt();var e=function(e){var t=e;return 0===t.indexOf("anglais")&&(t=I.a.map(t.split(" "),(function(e,t){return 0===t?"onglet":e})).join(" ")),t}(St||"");xe("audioTranscript",e||"")})),Object(i.useEffect)((function(){var e=localStorage.getItem("refPointMode");e&&(p(e),U=e);var t=localStorage.getItem("sensibility");t&&(w(t),Q=t);for(var n=0,i=["x","y"];n<i.length;n++)for(var a=i[n],o=0,r=["Min","Max"];o<r.length;o++){var l=a+r[o]+"Ratio",c=localStorage.getItem(l);c&&(H[l]=+c)}}),[]);var Nt=function(){var e=Object(N.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(B.a),e.next=3,B.b(B.a.MediaPipeFaceMesh,{shouldLoadIrisModel:!0,runtime:"mediapipe",solutionPath:"https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh",refineLandmarks:!0});case 3:Ct=e.sent,Ce(!0),setInterval((function(){return Pt(Ct)}),100);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){console.log("ON LOAD"),Nt()}),[]);Object(i.useEffect)((function(){!function e(){var t=X*window.innerWidth,n=F*window.innerHeight,i=Math.abs(X-G)<=.03&&Math.abs(F-V)<=.03;i!==Y&&We(i),Y=i;var a=document.elementFromPoint(t,n),o=Y&&K>=1.14*J;o&&(Ae(!0),setTimeout((function(){Ae(!1)}),300)),o!==q&&xe("isClicking",q=o),me||(((null===a||void 0===a?void 0:a.id)||"").indexOf("target-button")>=0&&Y&&o&&a.click(),((null===a||void 0===a?void 0:a.id)||"").indexOf("target")>=0&&Y&&o&&a.click()),setTimeout(e,50)}()}),[]);var zt=function(e){var t,n=e.ctx,i=e.keypoints,a=e.color,o=e.lineWidth,r=new Path2D,l=!0,c=Object(S.a)(i||[]);try{for(c.s();!(t=c.n()).done;){var s=t.value,u=s.x,d=s.y;s.name;l?r.moveTo(u,d):r.lineTo(u,d),l=!1}}catch(m){c.e(m)}finally{c.f()}r.closePath(),n.strokeStyle=a,n.lineWidth=o,n.stroke(r)},It=function(e){var t=e.ctx,n=e.x,i=e.y,a=e.color,o=e.radius;t.beginPath(),t.arc(n,i,o,0,3*Math.PI),t.fillStyle=a,t.fill()},At=function(e,t,n){if(!I.a.isEmpty(t)){var i,a=0,o=0,r=Object(S.a)(t||[]);try{for(r.s();!(i=r.n()).done;){var l=i.value,c=l.x,s=l.y;a+=c,o+=s}}catch(m){r.e(m)}finally{r.f()}var u=Math.floor(a/t.length),d=Math.floor(o/t.length);It({ctx:e,x:u,y:d,color:n,radius:2})}},Bt=function(){var e=Date.now();e-_>=1e3&&(_=e,Z=!0,ve({message:"Recentrage sur point de r\xe9f\xe9rence dans 5s !",displayTimeInMs:2e3}),setTimeout((function(){var e=H.xMaxRatio-H.xMinRatio,t=H.yMaxRatio-H.yMinRatio,n=1-h/jt.current.width,i=b/jt.current.height;H=pe({xMinRatio:n-e/2,xMaxRatio:n+e/2,yMinRatio:i-t/2,yMaxRatio:i+t/2}),Z=!1,ve({message:"Recentr\xe9 sur point de r\xe9f\xe9rence !",displayTimeInMs:2e3})}),5e3))},Lt=function(){var e=Date.now();if(e-_>=1e3){_=e,Z=!0,ve({message:"Recalibration dans 5s (Gauche/Droite/Haut/Bas) !",displayTimeInMs:2e3});var t=[],n=[];setTimeout((function(){ve({message:"Recalibration pendant 10s !",displayTimeInMs:2e3});var e=setInterval((function(){t.push(1-h/jt.current.width),n.push(b/jt.current.height)}),100);setTimeout((function(){t.sort(),n.sort(),H=pe({xMinRatio:t[2],xMaxRatio:t[t.length-3],yMinRatio:n[2],yMaxRatio:n[n.length-3]}),clearInterval(e),Z=!1,ve({message:"Recalibration termin\xe9e !",displayTimeInMs:2e3})}),1e4)}),5e3)}},Wt=function(e,t){if(null===t||void 0===t?void 0:t[0]){var n,i=t[0],a=(i.box,i.keypoints),o={},r=0,l=Object(S.a)(a||[]);try{for(l.s();!(n=l.n()).done;){var c=n.value;c.name&&(o[c.name]||(o[c.name]=[]),o[c.name].push(Object(D.a)(Object(D.a)({},c),{},{index:r}))),r++}}catch(Ae){l.e(Ae)}finally{l.f()}var s,u=Object(S.a)(a||[]);try{for(u.s();!(s=u.n()).done;){var d=s.value;"faceOval"!==d.name&&It({ctx:e,x:d.x,y:d.y,color:"white",radius:1})}}catch(Ae){u.e(Ae)}finally{u.f()}var m=I.a.map([172,136,150,149,176,148,152,377,400,378,379,365,397,288,361,323,454,356,389,251,284,332,297,338,10,109,67,103,54,21,162,127,234,93,132,58],(function(e){return a[e]}));zt({ctx:e,keypoints:m,color:"lightgrey",lineWidth:3});var g=function(e){var t=e.keypoints;if(I.a.isEmpty(t))return{x:0,y:0};var n,i=0,a=0,o=Object(S.a)(t||[]);try{for(o.s();!(n=o.n()).done;){var r=n.value,l=r.x,c=r.y;i+=l,a+=c}}catch(Ae){o.e(Ae)}finally{o.f()}return{x:Math.floor(i/t.length),y:Math.floor(a/t.length)}},y=a[65].x,f=a[65].y,p=a[295].x,x=a[295].y,v=g({keypoints:o.leftEye}),M=v.x,w=v.y,E=g({keypoints:o.rightEye}),k=E.x,O=E.y,j=a[13],T=j.x,C=j.y,N=Math.floor((M+k)/2),z=Math.floor((w+O)/2),A=Math.floor((y+p)/2),B=Math.floor((f+x)/2);At(e,o.leftEye,"aqua"),At(e,o.rightEye,"red"),It({ctx:e,x:y,y:f,color:"blue",radius:2}),It({ctx:e,x:p,y:x,color:"black",radius:2}),It({ctx:e,x:T,y:C,color:"yellow",radius:3});var L=I.a.map([263,466,388,387,386,385,384,398,362,382,381,380,374,373,390,249],(function(e){return a[e]}));zt({ctx:e,keypoints:L,color:"red",lineWidth:1});var Y=I.a.map([33,246,161,160,159,158,157,173,133,155,154,153,145,144,163,7],(function(e){return a[e]}));zt({ctx:e,keypoints:Y,color:"lime",lineWidth:1});var q=I.a.map([78,191,80,81,82,13,312,311,310,415,308,324,318,402,317,14,87,178,88,95],(function(e){return a[e]}));zt({ctx:e,keypoints:q,color:"purple",lineWidth:2});var $="nose"===U?{centralX:a[1].x,centralY:a[1].y}:{centralX:Math.floor((2*N+T)/3),centralY:Math.floor((2*z+C)/3)},_=$.centralX,Q=$.centralY;h=_,b=Q;var Z=a[1].x,me=a[1].y,he=ye({x1:A,y1:B,x2:N,y2:z})/Math.max(.001,ye({x1:N,y1:z,x2:T,y2:C}))/Math.max(.001,ye({x1:N,y1:z,x2:Z,y2:me})/Math.max(.001,ye({x1:N,y1:z,x2:T,y2:C})));ot(he),K=he,setTimeout((function(){J=he}),300),It({ctx:e,x:N,y:z,color:"red",radius:2}),It({ctx:e,x:_,y:Q,color:"white",radius:6});var fe=(H.xMaxRatio-H.xMinRatio)*jt.current.width,pe=(H.yMaxRatio-H.yMinRatio)*jt.current.height,ve=1-(_-(1-H.xMaxRatio)*jt.current.width)/fe,we=(Q-H.yMinRatio*jt.current.height)/pe;Fe(ve),qe(we),X=ve,setTimeout((function(){G=ve}),500),F=we,setTimeout((function(){V=we}),500),xe("Xratio",X),xe("Yratio",F);var Ee=Math.abs(be({keypoints:q})/ge({x1:M,y1:w,x2:k,y2:O,x3:T,y3:C}));st(Ee);var ke=!1;Ee>.11?ae===P&&(ae=Date.now()):(ae!==P&&(ke=!0),ae=P);var Re=Math.abs(be({keypoints:L})/ge({x1:M,y1:w,x2:k,y2:O,x3:T,y3:C}));gt(Re);var Oe=!1;Re<.045?oe===P&&(oe=Date.now()):(oe!==P&&(Oe=!0),oe=P);var je=Math.abs(be({keypoints:Y})/ge({x1:M,y1:w,x2:k,y2:O,x3:T,y3:C}));ft(je);var De=!1;if(je<.039?re===P&&(re=Date.now()):(re!==P&&(De=!0),re=P),te)if("pre-text"===te)Oe?(te=null,Me(null),xe("innerMode","")):Date.now()-ae>300&&(te="text-command",Me("text-command"),xe("innerMode","text-command"),W.a.startListening({language:"fr-FR",continuous:!0}));else if("text-command"===te)(Math.abs(X-.5)>.55||Math.abs(F-.5)>.55)&&(te=null,Me(null),xe("innerMode",""),W.a.stopListening(),Tt(),le=Date.now());else if("cross"===te)De?(te=null,Me(null),xe("innerMode","")):ee&&Date.now()-ae>100?(te=null,Me(null),xe("innerMode",""),ee=!1,R(!1),xe("isLatentDiscretMode",""),le=Date.now()+1e3):!ee&&Date.now()-ae>500?(console.log("ACTIVATE DISCRET"),te=null,Me(null),xe("innerMode",""),ee=!0,R(!0),xe("isLatentDiscretMode","true"),le=Date.now()):!ee&&Date.now()-se>2e3&&(te="pre-recentering",Me("pre-recentering"),xe("innerMode","pre-recentering"),ue=Date.now());else if("pre-recentering"===te)De?(te=null,Me(null),xe("innerMode","")):Date.now()-ae>500&&Date.now()-ue>250?(te=null,Me(null),xe("innerMode",""),Bt()):Date.now()-ue>2e3&&(te="pre-recalibration",Me("pre-recalibration"),xe("innerMode","pre-recalibration")),de=Date.now();else if("pre-recalibration"===te)De?(te=null,Me(null),xe("innerMode","")):Date.now()-ae>500&&Date.now()-de>250&&(te=null,Me(null),xe("innerMode",""),Lt());else if("prescroll"===te)ke?X>=ne-.1&&X<=ne+.1&&F>=ie-.1&&F<=ie+.1&&(te=null,Me(null),xe("innerMode",""),le=Date.now()):Date.now()-oe>500&&Date.now()-ce>500?(te="high-precision",Me("high-precision"),xe("innerMode","high-precision")):Date.now()-re>500&&Date.now()-ce>500?(te="navigation",Me("navigation"),xe("innerMode","navigation")):F>ie+.1?(te="scroll-bottom",Me("scroll-bottom"),xe("innerMode","scroll-bottom")):F<ie-.1?(te="scroll-top",Me("scroll-top"),xe("innerMode","scroll-top")):X>ne+.1?(te="scroll-right",Me("scroll-right"),xe("innerMode","scroll-right")):X<ne-.1&&(te="scroll-left",Me("scroll-left"),xe("innerMode","scroll-left"));else if(["scroll-bottom","scroll-top","scroll-left","scroll-right"].includes(te))"scroll-bottom"===te?F<Math.max(ie-.2,(ie-.1)/2)&&(te=null,Me(null),xe("innerMode",""),le=Date.now()):"scroll-top"===te?F>Math.min(ie+.2,1-(1-(ie+.1))/2)&&(te=null,Me(null),xe("innerMode",""),le=Date.now()):"scroll-right"===te?X<ne-.1&&(te=null,Me(null),xe("innerMode",""),le=Date.now()):"scroll-left"===te&&X>ne+.1&&(te=null,Me(null),xe("innerMode",""),le=Date.now());else if("high-precision"===te)(Math.abs(X-.5)>.55||Math.abs(F-.5)>.55)&&(te=null,Me(null),xe("innerMode",""),le=Date.now());else if("navigation"===te){var Se,Te,Ce=.6*(ne-.1+.2*X)+.4*X,Ne=.6*(ie-.1+.2*F)+.4*F;if(Ne>ie+.1)if(te=null,Me(null),xe("innerMode",""),le=Date.now(),Ce<ne)null===(Se=document.getElementById("button-go-to-previous-tab"))||void 0===Se||Se.click();else null===(Te=document.getElementById("button-go-to-next-tab"))||void 0===Te||Te.click();else if(Ne<ie-.1)te="panel",Me("panel"),xe("innerMode","panel");else if(Ce<ne-.1){var ze;te=null,Me(null),xe("innerMode",""),le=Date.now(),null===(ze=document.getElementById("button-go-to-previous-url"))||void 0===ze||ze.click()}else if(Ce>ne+.1){var Ie;te=null,Me(null),xe("innerMode",""),le=Date.now(),null===(Ie=document.getElementById("button-go-to-next-url"))||void 0===Ie||Ie.click()}}else"panel"===te&&(Math.abs(X-.5)>.55||Math.abs(F-.5)>.55)&&(te=null,Me(null),xe("innerMode",""));else ee?Date.now()-re>500&&Date.now()-le>2500&&(te="cross",Me("cross"),xe("innerMode","cross"),se=Date.now()):Date.now()-ae>500&&Date.now()-le>500?(te="prescroll",Me("prescroll"),xe("innerMode","prescroll"),ne=Math.max(.14,Math.min(.86,X)),xe("innerModeRefXRatio",ne),ie=Math.max(.14,Math.min(.86,F)),xe("innerModeRefYRatio",ie),ce=Date.now()):Date.now()-re>500&&Date.now()-le>500?(te="cross",Me("cross"),xe("innerMode","cross"),se=Date.now()):Date.now()-oe>500&&Date.now()-le>1500&&(console.log("Go pre-text"),te="pre-text",Me("pre-text"),xe("innerMode","pre-text"),se=Date.now());Ze(ge({x1:M,y1:w,x2:y,y2:f,x3:p,y3:x})+ge({x1:M,y1:w,x2:p,y2:x,x3:k,y3:O})),nt(ge({x1:M,y1:w,x2:k,y2:O,x3:T,y3:C})),function(e){var t=(1-H.xMaxRatio)*jt.current.width,n=(1-H.xMinRatio)*jt.current.width,i=H.yMinRatio*jt.current.height,a=H.yMaxRatio*jt.current.height,o=new Path2D;o.moveTo(t,i),o.lineTo(t,a),o.lineTo(n,a),o.lineTo(n,i),o.closePath(),e.strokeStyle="blue",e.lineWidth=2,e.stroke(o)}(e)}},Pt=function(){var e=Object(N.a)(C.a.mark((function e(t){var n,i,a,o,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof Ot.current||null===Ot.current||4!==Ot.current.video.readyState){e.next=15;break}return n=Ot.current.video,i=Ot.current.video.videoWidth,a=Ot.current.video.videoHeight,Ot.current.video.width=i,Ot.current.video.height=a,jt.current.width=i,jt.current.height=a,e.next=10,t.estimateFaces(n);case 10:o=e.sent,(r=jt.current.getContext("2d")).translate(i,0),r.scale(-1,1),Wt(r,o);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ht=600/(H.xMaxRatio-H.xMinRatio),Xt=400/(H.yMaxRatio-H.yMinRatio);return a.a.createElement("div",{id:"my-container",style:{opacity:.6}},a.a.createElement("div",{style:{visibility:"hidden"}},a.a.createElement("button",{id:"button-go-to-previous-tab"}),a.a.createElement("button",{id:"button-go-to-next-tab"}),a.a.createElement("button",{id:"button-go-to-previous-url"}),a.a.createElement("button",{id:"button-go-to-next-url"}),a.a.createElement("button",{id:"button-send-text-command"}),a.a.createElement("button",{id:"target-button-reset-innermode",onClick:function(){te=null,Me(null),xe("innerMode",""),W.a.stopListening(),setTimeout((function(){Tt()}),200)}})),!!he&&a.a.createElement("div",{className:"scroll-bars"},!["scroll-left","scroll-right"].includes(he)&&a.a.createElement("div",{className:"scroll-bar-vertical",style:{position:"fixed",top:0,right:0,width:10,height:"100vh",background:"whitesmoke"}},a.a.createElement("div",{className:"scroll-bar-vertical-top",style:{position:"absolute",top:0,right:0,width:10,height:"".concat(fe(ie-.1),"%"),background:"scroll-top"===he?"teal":"grey"}}),a.a.createElement("div",{className:"scroll-bar-vertical-bottom",style:{position:"absolute",bottom:0,right:0,width:10,height:"".concat(fe(1-ie-.1),"%"),background:"scroll-bottom"===he?"teal":"grey"}}),a.a.createElement("div",{style:{position:"absolute",top:"".concat(fe(F),"%"),right:0,width:10,height:5,background:"cyan"}})),!["scroll-top","scroll-bottom"].includes(he)&&a.a.createElement("div",{className:"scroll-bar-horizontal",style:{position:"fixed",bottom:0,left:0,width:"100vw",height:10,background:"whitesmoke"}},a.a.createElement("div",{className:"scroll-bar-horizontal-left",style:{position:"absolute",bottom:0,left:0,height:10,width:"".concat(fe(ne-.1),"%"),background:"scroll-left"===he?"teal":"grey"}}),a.a.createElement("div",{className:"scroll-bar-horizontal-right",style:{position:"absolute",bottom:0,right:0,height:10,width:"".concat(fe(1-ne-.1),"%"),background:"scroll-right"===he?"teal":"grey"}}),a.a.createElement("div",{style:{position:"absolute",left:"".concat(fe(X),"%"),bottom:0,width:5,height:10,background:"cyan"}}))),a.a.createElement("div",{id:"toaster",style:{position:"fixed",bottom:10,left:10,height:40,borderRadius:5,background:"#4864C9",paddingTop:10,paddingLeft:20,paddingRight:20,opacity:0}},a.a.createElement("center",null,a.a.createElement("span",{id:"toaster-message",style:{color:"white",fontSize:18}},"Hello"))),a.a.createElement("div",{id:"slam-values",style:{position:"absolute",width:0,height:0}}),a.a.createElement("div",{id:"button-extension-flag",style:{position:"absolute",width:0,height:0},onClick:function(){console.log("Extension detected"),n(!0),me=!0}}),a.a.createElement("div",{style:{position:"absolute",left:25,top:220,zindex:8,width:300,height:500}},a.a.createElement(A.a,{id:"target-button-configure",size:"large",onClick:function(){var e=Date.now();e-$>=1e3&&($=e,l||(c(!0),setTimeout((function(){c(!1)}),5e3)))}},l?"V\xe9rouiller":"D\xe9verouiller",ee?" Discret":" Normal"),a.a.createElement(A.a,{id:"target-button-create-window",size:"large",style:{marginLeft:25,visibility:l?"visible":"hidden"}},"Nouvelle fen\xeatre"),a.a.createElement("br",null),a.a.createElement(A.a,{id:"target-button-configure",size:"large",style:{marginTop:10,visibility:l||d?"visible":"hidden"},onClick:function(){var e=Date.now();e-$>=1e3&&($=e,m(!d))}},d?"Masquer configuration":"Montrer configuration"),a.a.createElement("br",null),a.a.createElement(A.a,{id:"target-button-incrusted",size:"large",style:{marginTop:10,visibility:d?"visible":"hidden"},onClick:function(){var e=Date.now();e-$>=1e3&&($=e,console.log("XXX",e),De(!je))}},je?"Fond gris":"Incruster"),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(A.a,{id:"target-button-refpointmode",size:"large",style:{marginTop:10,visibility:d?"visible":"hidden"},onClick:function(){var e=Date.now();e-$>=1e3&&($=e,console.log("XXX",e),"nose"===f?(p("median"),U="median"):(p("nose"),U="nose"))}},"nose"===f?"Nez":"Median"),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(A.a,{id:"target-button-acc1",size:"large",color:"high"===M?"teal":"grey",style:{marginTop:10,visibility:d?"visible":"hidden"},onClick:function(){w("high"),Q="high",ve({message:'Modifi\xe9 \xe0 "Tr\xe8s sensible"',displayTimeInMs:2e3});var e=(H.xMinRatio+H.xMaxRatio)/2,t=(H.yMinRatio+H.yMaxRatio)/2;H=pe({xMinRatio:e-.09,xMaxRatio:e+.09,yMinRatio:t-.09,yMaxRatio:t+.09})}},"Tr\xe8s sensible"),a.a.createElement("br",null),a.a.createElement(A.a,{id:"target-button-acc2",size:"large",style:{marginTop:3,visibility:d?"visible":"hidden"},color:"medium"===M?"teal":"grey",onClick:function(){w("medium"),Q="medium",ve({message:'Modifi\xe9 \xe0 "Sensible"',displayTimeInMs:2e3});var e=(H.xMinRatio+H.xMaxRatio)/2,t=(H.yMinRatio+H.yMaxRatio)/2;H=pe({xMinRatio:e-.14,xMaxRatio:e+.14,yMinRatio:t-.14,yMaxRatio:t+.14})}},"Sensible"),a.a.createElement("br",null),a.a.createElement(A.a,{id:"target-button-acc3",size:"large",style:{marginTop:3,visibility:d?"visible":"hidden"},color:"low"===M?"teal":"grey",onClick:function(){w("low"),Q="low",ve({message:'Modifi\xe9 \xe0 "Peu sensible"',displayTimeInMs:2e3});var e=(H.xMinRatio+H.xMaxRatio)/2,t=(H.yMinRatio+H.yMaxRatio)/2;H=pe({xMinRatio:e-.22,xMaxRatio:e+.22,yMinRatio:t-.22,yMaxRatio:t+.22})}},"Peu sensible"),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(A.a,{id:"target-button-refresh",size:"large",color:"grey",style:{visibility:d?"visible":"hidden"},onClick:function(){var e=Date.now();e-_>=1e3&&(_=e,window.location.reload())}},"Refresh"),a.a.createElement("br",null),a.a.createElement("div",null,a.a.createElement("span",null,ke),a.a.createElement("br",null),ct>.11?a.a.createElement("b",null,"Bouche: ",Math.round(1e3*ct)," "):a.a.createElement("span",null,"Bouche: ",Math.round(1e3*ct))),a.a.createElement("div",null,mt<.045?a.a.createElement("b",null,"LeftEye: ",Math.round(1e3*mt)):a.a.createElement("span",null,"LeftEye: ",Math.round(1e3*mt))),a.a.createElement("div",null,yt<.039?a.a.createElement("b",null,"rightEye: ",Math.round(1e3*yt)):a.a.createElement("span",null,"RightEye: ",Math.round(1e3*yt))),a.a.createElement("div",null,a.a.createElement("p",null,""))),a.a.createElement("div",{className:"fake-scree02n",style:{position:"absolute",left:350,top:15,zindex:8,width:600,height:20}},a.a.createElement("div",null,a.a.createElement(A.a,{id:"target-button-chrono",size:"mini",color:vt?"orange":"grey",onClick:function(){Mt(!0),Rt(0),setTimeout((function(){return Mt(!1)}),3e4)}},"Chrono ",void 0!==kt?kt:""))),a.a.createElement("div",{id:"fake-screen",className:"fake-screen",style:{position:"absolute",left:350,top:50,textAlign:"center",zindex:8,width:600,height:400,background:"whitesmoke"}},a.a.createElement("div",{id:"inner-fake-screen",className:"fake-screen",style:{position:"absolute",left:0,top:0,textAlign:"center",zindex:8,width:600,height:400,background:"whitesmoke",overflow:"hidden"}},a.a.createElement(O.a,{id:"my-inner-webcam",ref:Ot,mirrored:!0,style:{opacity:je?1:0,position:"relative",overflow:"hidden",left:-H.xMinRatio*Ht,top:-H.yMinRatio*Xt,textAlign:"center",zindex:9,width:Ht,height:Xt}})),a.a.createElement("div",{id:"target-yellow",className:"target-yellow",style:Object(D.a)({position:"absolute",left:130,top:30,textAlign:"center",zindex:10,width:35,height:35,background:"yellow"},"yellow"===$e&&{border:"3px solid black"}),onClick:function(){"yellow"!==$e&&vt&&Rt((function(e){return e+1})),_e("yellow")}}),a.a.createElement("div",{id:"target-purple",className:"target-purple",style:Object(D.a)({position:"absolute",left:380,top:30,textAlign:"center",zindex:8,width:35,height:35,background:"purple"},"purple"===$e&&{border:"4px solid black"}),onClick:function(){"purple"!==$e&&vt&&Rt((function(e){return e+1})),_e("purple")}}),a.a.createElement("div",{id:"target-orange",className:"target-orange",style:Object(D.a)({position:"absolute",left:280,top:250,textAlign:"center",zindex:8,width:35,height:35,background:"orange"},"orange"===$e&&{border:"4px solid black"}),onClick:function(){"orange"!==$e&&vt&&Rt((function(e){return e+1})),_e("orange")}}),a.a.createElement("div",{id:"target-brown",className:"target-brown",style:Object(D.a)({position:"absolute",left:70,top:150,textAlign:"center",zindex:8,width:35,height:35,background:"brown"},"brown"===$e&&{border:"4px solid black"}),onClick:function(){"brown"!==$e&&vt&&Rt((function(e){return e+1})),_e("brown")}}),a.a.createElement("div",{id:"target-grey",className:"target-grey",style:Object(D.a)({position:"absolute",left:250,top:160,textAlign:"center",zindex:8,width:35,height:35,background:"grey"},"grey"===$e&&{border:"4px solid black"}),onClick:function(){"grey"!==$e&&vt&&Rt((function(e){return e+1})),_e("grey")}}),a.a.createElement("div",{id:"target-blue",className:"target-blue",style:Object(D.a)({position:"absolute",left:80,top:230,textAlign:"center",zindex:8,width:35,height:35,background:"blue"},"blue"===$e&&{border:"4px solid black"}),onClick:function(){"blue"!==$e&&vt&&Rt((function(e){return e+1})),_e("blue")}}),a.a.createElement("div",{id:"target-pink",className:"target-pink",style:Object(D.a)({position:"absolute",left:420,top:330,textAlign:"center",zindex:8,width:35,height:35,background:"pink"},"pink"===$e&&{border:"4px solid black"}),onClick:function(){"pink"!==$e&&vt&&Rt((function(e){return e+1})),_e("pink")}}),a.a.createElement("div",{id:"target-teal",className:"target-teal",style:Object(D.a)({position:"absolute",left:520,top:210,textAlign:"center",zindex:8,width:35,height:35,background:"teal"},"teal"===$e&&{border:"4px solid black"}),onClick:function(){"teal"!==$e&&vt&&Rt((function(e){return e+1})),_e("teal")}}),a.a.createElement("div",{id:"target-lime",className:"target-lime",style:Object(D.a)({position:"absolute",left:110,top:310,textAlign:"center",zindex:8,width:35,height:35,background:"lime"},"lime"===$e&&{border:"4px solid black"}),onClick:function(){"lime"!==$e&&vt&&Rt((function(e){return e+1})),_e("lime")}}),a.a.createElement("div",{style:{position:"absolute",top:420,textAlign:"center",zindex:8,width:600,height:100}},a.a.createElement(A.a,{id:"target-button-left-minus",size:"large",color:"grey",style:{marginTop:10,visibility:d?"visible":"hidden"},onClick:function(){var e=Date.now();e-_>=1e3&&(_=e,H.xMinRatio=H.xMinRatio-.02,H=pe(H),ve({message:"Gauche diminu\xe9e !",displayTimeInMs:1e3}))}},"G\u2190"),a.a.createElement(A.a,{id:"target-button-left-plus",size:"large",color:"grey",style:{marginTop:10,visibility:d?"visible":"hidden"},onClick:function(){var e=Date.now();e-_>=1e3&&(_=e,H.xMinRatio=H.xMinRatio+.02,H=pe(H),ve({message:"Gauche augment\xe9e !",displayTimeInMs:1e3}))}},"G\u2192"),a.a.createElement(A.a,{id:"target-button-right-minus",size:"large",color:"grey",style:{marginTop:10,visibility:d?"visible":"hidden"},onClick:function(){var e=Date.now();e-_>=1e3&&(_=e,H.xMaxRatio=H.xMaxRatio-.02,H=pe(H),ve({message:"Droite diminu\xe9e !",displayTimeInMs:1e3}))}},"D\u2190"),a.a.createElement(A.a,{id:"target-button-right-plus",size:"large",color:"grey",style:{marginTop:10,visibility:d?"visible":"hidden"},onClick:function(){var e=Date.now();e-_>=1e3&&(_=e,H.xMaxRatio=H.xMaxRatio+.02,H=pe(H),ve({message:"Droite augment\xe9e !",displayTimeInMs:1e3}))}},"D\u2192"),a.a.createElement(A.a,{id:"target-button-top-minus",size:"large",color:"grey",style:{marginTop:10,visibility:d?"visible":"hidden"},onClick:function(){var e=Date.now();e-_>=1e3&&(_=e,H.yMinRatio=H.yMinRatio-.02,H=pe(H),ve({message:"Haut mont\xe9 !",displayTimeInMs:1e3}))}},"H\u2191"),a.a.createElement(A.a,{id:"target-button-top-plus",size:"large",color:"grey",style:{marginTop:10,visibility:d?"visible":"hidden"},onClick:function(){var e=Date.now();e-_>=1e3&&(_=e,H.yMinRatio=H.yMinRatio+.02,H=pe(H),ve({message:"Haut descendu !",displayTimeInMs:1e3}))}},"H\u2193"),a.a.createElement(A.a,{id:"target-button-buttom-minus",size:"large",color:"grey",style:{marginTop:10,visibility:d?"visible":"hidden"},onClick:function(){var e=Date.now();e-_>=1e3&&(_=e,H.yMaxRatio=H.yMaxRatio-.02,H=pe(H),ve({message:"Bas mont\xe9 !",displayTimeInMs:1e3}))}},"B\u2191"),a.a.createElement(A.a,{id:"target-button-bottom-plus",size:"large",color:"grey",style:{marginTop:10,visibility:d?"visible":"hidden"},onClick:function(){var e=Date.now();e-_>=1e3&&(_=e,H.yMaxRatio=H.yMaxRatio+.02,H=pe(H),ve({message:"Bas descendu !",displayTimeInMs:1e3}))}},"B\u2193"),a.a.createElement("br",null),a.a.createElement(A.a,{style:{marginTop:5,visibility:d?"visible":"hidden"},id:"target-button-recenter",size:"large",color:"grey",onClick:function(){Bt()}},"Recentrer"),a.a.createElement(A.a,{style:{marginTop:5,visibility:d?"visible":"hidden"},id:"target-button-recenter",size:"large",color:"grey",onClick:function(){Lt()}},"Recalibrer"),a.a.createElement(A.a,{style:{marginTop:5,visibility:d?"visible":"hidden"},id:"target-button-save-settings",size:"large",color:"grey",onClick:function(){var e=Date.now();e-_>=1e3&&(_=e,localStorage.setItem("refPointMode",U),localStorage.setItem("sensibility",Q),localStorage.setItem("xMinRatio",H.xMinRatio),localStorage.setItem("xMaxRatio",H.xMaxRatio),localStorage.setItem("yMinRatio",H.yMinRatio),localStorage.setItem("yMaxRatio",H.yMaxRatio),ve({message:"Sauvegard\xe9 !",displayTimeInMs:2e3}))}},"Sauvegarder pour cet appareil"),a.a.createElement(A.a,{id:"target-button-refresh-2",size:"large",color:"grey",style:{marginTop:10,visibility:d?"visible":"hidden"},onClick:function(){var e=Date.now();e-_>=1e3&&(_=e,window.location.reload())}},"Refresh"),a.a.createElement("div",null,a.a.createElement("br",null),a.a.createElement("span",null,"Gauche: ",fe(H.xMinRatio),"%")," - ",a.a.createElement("span",null,"Droite: ",fe(H.xMaxRatio),"%"),a.a.createElement("br",null),a.a.createElement("span",null,"Haut: ",fe(H.yMinRatio),"%")," - ",a.a.createElement("span",null,"Bas: ",fe(H.yMaxRatio),"%"))),!me&&[a.a.createElement("div",{key:"my-cross-top",id:"my-cross-top",style:{position:"fixed",left:Xe*window.innerWidth+3,top:Ye*window.innerHeight-20,textAlign:"center",zindex:8,width:4,height:20,background:Ie?"lime":"cyan",opacity:Z?0:ee?.3:1}}),a.a.createElement("div",{key:"my-cross-bottom",id:"my-cross-bottom",style:{position:"fixed",left:Xe*window.innerWidth+3,top:Ye*window.innerHeight+10,textAlign:"center",zindex:8,width:4,height:20,background:Ie?"lime":"cyan",opacity:Z?0:ee?.3:1}}),a.a.createElement("div",{key:"my-cross-left",id:"my-cross-left",style:{position:"fixed",left:Xe*window.innerWidth-20,top:Ye*window.innerHeight+3,textAlign:"center",zindex:8,width:20,height:4,background:Ie?"lime":"cyan",opacity:Z?0:ee?.3:1}}),a.a.createElement("div",{key:"my-cross-right",id:"my-cross-right",style:{position:"fixed",left:Xe*window.innerWidth+10,top:Ye*window.innerHeight+3,textAlign:"center",zindex:8,width:20,height:4,background:Ie?"lime":"cyan",opacity:Z?0:ee?.3:1}})]),a.a.createElement(O.a,{id:"my-webcam",ref:Ot,mirrored:!0,style:{position:"absolute",left:0,right:0,textAlign:"center",zindex:9,width:288,height:200}}),a.a.createElement("canvas",{id:"my-canvas",ref:jt,style:{position:"absolute",left:0,right:0,textAlign:"center",zindex:9,width:288,height:200}}))},we=n(107),Ee=n(336),ke=n.n(Ee),Re=function(){},Oe=a.a.createContext({onShowNotification:Re,onClearNotifications:Re,success:Re,error:Re}),je={Containers:{DefaultStyle:{padding:"0 15px 15px 15px",width:"320px"}},NotificationItem:{DefaultStyle:{border:"none",color:"#ffffff",padding:"15px"},success:{backgroundColor:"#4864C9",WebkitBoxShadow:"none",MozBoxShadow:"none",boxShadow:"none"},error:{backgroundColor:"#F86E7F",WebkitBoxShadow:"none",MozBoxShadow:"none",boxShadow:"none"}},Dismiss:{DefaultStyle:{backgroundColor:"none",fontWeight:"lighter",top:"16px",right:"10px"},success:{fontSize:"25px"},error:{fontSize:"0px"}}},De=function(e){return function(t){Object(p.a)(i,t);var n=Object(x.a)(i);function i(e){var t;return Object(y.a)(this,i),(t=n.call(this,e)).notificationSystem=null,t.addNotification=t.addNotification.bind(Object(we.a)(t)),t.clearNotifications=t.clearNotifications.bind(Object(we.a)(t)),t.success=t.success.bind(Object(we.a)(t)),t.error=t.error.bind(Object(we.a)(t)),t}return Object(f.a)(i,[{key:"componentDidMount",value:function(){this.notificationSystem=this.refs.notificationSystem}},{key:"addNotification",value:function(e){var t=e.message,n=e.level,i=e.type,a=e.autoDismiss;"networkStatus"===i?this.notificationSystem.addNotification({message:"Vous \xeates actuellement hors ligne",level:"error",position:this.props.shiftSidebar?"bl":"br",autoDismiss:0}):this.notificationSystem.addNotification(Object(D.a)({message:t,level:n,position:this.props.shiftSidebar?"bl":"br"},"number"===typeof a&&{autoDismiss:a}))}},{key:"success",value:function(e){this.addNotification({message:e,level:"success"})}},{key:"error",value:function(e){this.addNotification({message:e,level:"error"})}},{key:"clearNotifications",value:function(){this.notificationSystem&&this.notificationSystem.clearNotifications()}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Oe.Provider,{value:{onClearNotifications:this.clearNotifications,onShowNotification:this.addNotification,success:this.success,error:this.error}},a.a.createElement(e,Object.assign({},this.props,{addNotification:this.addNotification,onShowNotification:this.addNotification,onClearNotifications:this.clearNotifications}))),a.a.createElement(ke.a,{ref:"notificationSystem",style:je}))}}]),i}(a.a.Component)},Se=function(){return a.a.createElement("div",null,a.a.createElement("h1",null,"Test View 1"))},Te=function(){return a.a.createElement("div",null,a.a.createElement("h1",null,"Test View 2"))},Ce=function(e){Object(p.a)(n,e);var t=Object(x.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"getChildContext",value:function(){return{onShowNotification:this.props.onShowNotification,onClearNotifications:this.props.onClearNotifications}}},{key:"render",value:function(){return a.a.createElement(v.BrowserRouter,null,a.a.createElement(w.LastLocationProvider,null,a.a.createElement(M.g,null,a.a.createElement(M.d,{exact:!0,path:"/",component:Me}),a.a.createElement(M.d,{exact:!0,path:"/test1",component:Se}),a.a.createElement(M.d,{exact:!0,path:"/test2",component:Te}),a.a.createElement(M.d,{exact:!0,path:"/face",component:j}),a.a.createElement(M.d,{exact:!0,path:"/facelm",component:Me}),a.a.createElement(M.c,{from:"*",to:"/404"}))))}}]),n}(i.Component);Ce.childContextTypes={onShowNotification:k.a.func,onClearNotifications:k.a.func};var Ne=De(Ce),ze=function(e){Object(p.a)(n,e);var t=Object(x.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){return a.a.createElement(Ne,null)}}]),n}(i.Component);r.a.render(a.a.createElement(ze,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[355,1,2]]]);