(this.webpackJsonpsweetreact=this.webpackJsonpsweetreact||[]).push([[0],{350:function(e,t,a){e.exports=a(582)},547:function(e,t,a){},548:function(e,t,a){},556:function(e,t){},557:function(e,t){},565:function(e,t){},582:function(e,t,a){"use strict";a.r(t);a(351),a(355),a(356),a(357),a(358),a(359),a(360),a(361),a(362),a(363),a(364),a(365),a(366),a(367),a(368),a(369),a(370),a(371),a(372),a(373),a(374),a(375),a(376),a(378),a(379),a(177),a(380),a(381),a(382),a(383),a(384),a(385),a(386),a(387),a(388),a(389),a(390),a(391),a(393),a(394),a(395),a(396),a(397),a(398),a(399),a(400),a(401),a(402),a(403),a(405),a(406),a(408),a(409),a(410),a(411),a(412),a(413),a(414),a(415),a(416),a(417),a(418),a(419),a(420),a(421),a(422),a(423),a(424),a(425),a(426),a(427),a(428),a(429),a(430),a(431),a(432),a(433),a(434),a(435),a(436),a(437),a(438),a(439),a(440),a(441),a(443),a(444),a(445),a(446),a(453),a(454),a(455),a(457),a(458),a(459),a(460),a(461),a(462),a(463),a(464),a(465),a(466),a(467),a(284),a(470),a(471),a(472),a(473),a(474),a(475),a(476),a(287),a(477),a(478),a(479),a(480),a(481),a(482),a(484),a(486),a(487),a(488),a(489),a(490),a(491),a(496),a(497),a(498),a(499),a(500),a(501),a(502),a(503),a(504),a(505),a(506),a(507),a(510),a(511),a(512),a(513),a(514),a(515),a(516),a(517),a(518),a(519),a(520),a(521),a(522),a(523),a(524),a(525),a(526),a(527),a(528),a(529),a(530),a(531),a(533),a(534),a(535),a(536),a(538),a(298);var n=a(8),i=a.n(n),o=a(120),r=a.n(o),l=a(167),c=a(603),s=a(302),u=a(303),d=a(600),m=a(139),f=a.n(m);a(543),a(544),l.a.use(d.a).use(s.a).use(u.a).init({fallbackLng:"en",ns:["translations"],defaultNS:"translations",load:"unspecific",debug:!1,saveMissing:!0,interpolation:{escapeValue:!1,formatSeparator:",",format:function(e,t){return e instanceof Date?"relative"===t?f()(e).fromNow():f()(e).format(t):e.toString()}},returnObjects:!0,react:{useSuspense:!0,defaultTransParent:"span"}}),l.a.on("languageChanged",(function(e){f.a.locale(e)})),l.a.on("missingKey",(function(e,t,a){var n=new Error("Missing translation key in ".concat(e,": ").concat(a));c.a(n)}));l.a,a(299),a(545),a(546),a(547),a(548),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var g,h,y=a(6),x=a(15),b=a(47),p=a(46),v=a(244),M=a(55),w=a(334),R=a(41),k=a.n(R),E=a(163),O=a.n(E),j=function(){var e=Object(n.useRef)(null),t=Object(n.useRef)(null);return i.a.createElement("div",null,i.a.createElement(O.a,{ref:e,style:{position:"absolute",marginLeft:"auto",marginRight:"auto",left:0,right:0,textAlign:"center",zindex:9,width:720,height:500}}),i.a.createElement("canvas",{ref:t,style:{position:"absolute",marginLeft:"auto",marginRight:"auto",left:0,right:0,textAlign:"center",zindex:9,width:720,height:500}}))},S=a(73),C=a(34),z=a(9),T=a.n(z),N=a(12),I=a(7),D=a(210),A=(a(551),a(602)),B=a(246),P=(a(0),a(581),{xMinRatio:.36,xMaxRatio:.64,yMinRatio:.36,yMaxRatio:.66}),H=.01,W=.01,X=.01,F=.01,L=!0,G=1,V=1,Y=0,q=0,J="medium",K="nose",$=!1,_=function(e){var t=e.x1,a=e.y1,n=e.x2-t,i=e.y2-a,o=e.x3-t,r=e.y3-a;return Math.abs(n*r-i*o)},Q=function(e){var t=e.x1,a=e.y1,n=e.x2-t,i=e.y2-a;return Math.sqrt(n*n+i*i)},U=function(e){return Math.round(100*e)},Z=function(e){var t=e.xMinRatio,a=e.xMaxRatio,n=e.yMinRatio,i=e.yMaxRatio,o=Math.max(.04,Math.min(.6,a-t)),r=Math.max(.04,Math.min(.6,i-n)),l=Math.max(.1+o/2,Math.min(.9-o/2,(t+a)/2)),c=Math.max(.1+r/2,Math.min(.9-r/2,(n+i)/2));return{xMinRatio:l-o/2,xMaxRatio:l+o/2,yMinRatio:c-r/2,yMaxRatio:c+r/2}},ee=function(e){var t=e.message,a=e.displayTimeInMs,n=(""+Math.random()).slice(3);document.getElementById("toaster").setAttribute("toastid",n),document.getElementById("toaster").style.opacity=1,document.getElementById("toaster-message").textContent=t,setTimeout((function(){document.getElementById("toaster").getAttribute("toastid")===n&&(document.getElementById("toaster").style.opacity=0)}),a)},te=function(){var e=Object(n.useState)("nose"),t=Object(I.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)("medium"),l=Object(I.a)(r,2),c=l[0],s=l[1],u=Object(n.useState)(!1),d=Object(I.a)(u,2),m=d[0],f=d[1],y=Object(n.useState)(!1),x=Object(I.a)(y,2),b=(x[0],x[1]),p=Object(n.useState)(!1),v=Object(I.a)(p,2),M=v[0],w=v[1],R=Object(n.useState)(!0),k=Object(I.a)(R,2),E=(k[0],k[1]),j=Object(n.useState)(0),z=Object(I.a)(j,2),te=z[0],ae=z[1],ne=Object(n.useState)(0),ie=Object(I.a)(ne,2),oe=ie[0],re=ie[1],le=Object(n.useState)(null),ce=Object(I.a)(le,2),se=ce[0],ue=ce[1],de=Object(n.useState)(1),me=Object(I.a)(de,2),fe=(me[0],me[1]),ge=Object(n.useState)(1),he=Object(I.a)(ge,2),ye=(he[0],he[1]),xe=Object(n.useState)(1),be=Object(I.a)(xe,2),pe=(be[0],be[1]),ve=Object(n.useState)(!1),Me=Object(I.a)(ve,2),we=Me[0],Re=Me[1],ke=Object(n.useState)(void 0),Ee=Object(I.a)(ke,2),Oe=Ee[0],je=Ee[1],Se=Object(n.useRef)(null),Ce=Object(n.useRef)(null),ze=null;Object(n.useEffect)((function(){var e=localStorage.getItem("refPointMode");e&&(o(e),K=e);var t=localStorage.getItem("sensibility");t&&(s(t),J=t);for(var a=0,n=["x","y"];a<n.length;a++)for(var i=n[a],r=0,l=["Min","Max"];r<l.length;r++){var c=i+l[r]+"Ratio",u=localStorage.getItem(c);u&&(P[c]=+u)}}),[]);var Te=function(){var e=Object(N.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.b(B.a.MediaPipeFaceMesh,{shouldLoadIrisModel:!0,runtime:"mediapipe",solutionPath:"https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh"});case 2:ze=e.sent,b(!0),setInterval((function(){return Ae(ze)}),50);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){Te()}),[]);Object(n.useEffect)((function(){!function e(){var t=H*window.innerWidth,a=W*window.innerHeight,n=Math.abs(H-X)<=.03&&Math.abs(W-F)<=.03;n!==L&&E(n),L=n;var i=document.elementFromPoint(t,a),o=L&&V>=1.16*G;o&&(console.log(V,G),w(!0),setTimeout((function(){w(!1)}),300)),o,((null===i||void 0===i?void 0:i.id)||"").indexOf("target-button")>=0&&L&&o&&i.click(),((null===i||void 0===i?void 0:i.id)||"").indexOf("target")>=0&&L&&o&&i.click(),setTimeout(e,50)}()}),[]);var Ne=function(e){var t=e.ctx,a=e.x,n=e.y,i=e.color,o=e.radius;t.beginPath(),t.arc(a,n,o,0,3*Math.PI),t.fillStyle=i,t.fill()},Ie=function(e,t,a){if(!D.a.isEmpty(t)){var n,i=0,o=0,r=Object(C.a)(t||[]);try{for(r.s();!(n=r.n()).done;){var l=n.value,c=l.x,s=l.y;i+=c,o+=s}}catch(m){r.e(m)}finally{r.f()}var u=Math.floor(i/t.length),d=Math.floor(o/t.length);Ne({ctx:e,x:u,y:d,color:a,radius:2})}},De=function(e,t){if(null===t||void 0===t?void 0:t[0]){var a,n=t[0],i=(n.box,n.keypoints),o={},r=0,l=Object(C.a)(i||[]);try{for(l.s();!(a=l.n()).done;){var c=a.value;c.name&&(o[c.name]||(o[c.name]=[]),o[c.name].push(Object(S.a)(Object(S.a)({},c),{},{index:r}))),r++}}catch(te){l.e(te)}finally{l.f()}var s,u=Object(C.a)(i||[]);try{for(u.s();!(s=u.n()).done;){var d=s.value;"faceOval"!==d.name&&Ne({ctx:e,x:d.x,y:d.y,color:"white",radius:1})}}catch(te){u.e(te)}finally{u.f()}!function(e,t,a){var n,i=new Path2D,o=!0,r=Object(C.a)(t||[]);try{for(r.s();!(n=r.n()).done;){var l=n.value,c=l.x,s=l.y;l.name;o?i.moveTo(c,s):i.lineTo(c,s),o=!1}}catch(te){r.e(te)}finally{r.f()}i.closePath(),e.strokeStyle=a,e.lineWidth=3,e.stroke(i)}(e,D.a.map([172,136,150,149,176,148,152,377,400,378,379,365,397,288,361,323,454,356,389,251,284,332,297,338,10,109,67,103,54,21,162,127,234,93,132,58],(function(e){return i[e]})),"lightgrey");var m=function(e){var t=e.keypoints;if(D.a.isEmpty(t))return{x:0,y:0};var a,n=0,i=0,o=Object(C.a)(t||[]);try{for(o.s();!(a=o.n()).done;){var r=a.value,l=r.x,c=r.y;n+=l,i+=c}}catch(te){o.e(te)}finally{o.f()}return{x:Math.floor(n/t.length),y:Math.floor(i/t.length)}},f=i[65].x,y=i[65].y,x=i[295].x,b=i[295].y,p=m({keypoints:o.leftEye}),v=p.x,M=p.y,w=m({keypoints:o.rightEye}),R=w.x,k=w.y,E=m({keypoints:o.lips}),O=E.x,j=E.y,z=Math.floor((v+R)/2),T=Math.floor((M+k)/2),N=Math.floor((f+x)/2),I=Math.floor((y+b)/2);Ie(e,o.leftEye,"aqua"),Ie(e,o.rightEye,"red"),Ie(e,o.lips,"yellow"),Ne({ctx:e,x:f,y:y,color:"black",radius:2}),Ne({ctx:e,x:x,y:b,color:"black",radius:2});var A="nose"===K?{centralX:i[1].x,centralY:i[1].y}:{centralX:Math.floor((2*z+O)/3),centralY:Math.floor((2*T+j)/3)},B=A.centralX,L=A.centralY;g=B,h=L;var Y=i[1].x,q=i[1].y,J=Q({x1:N,y1:I,x2:z,y2:T})/Math.max(.001,Q({x1:z,y1:T,x2:O,y2:j}))/Math.max(.001,Q({x1:z,y1:T,x2:Y,y2:q})/Math.max(.001,Q({x1:z,y1:T,x2:O,y2:j})));pe(J),V=J,setTimeout((function(){G=J}),300),Ne({ctx:e,x:z,y:T,color:"red",radius:2}),Ne({ctx:e,x:B,y:L,color:"white",radius:6});var $=(P.xMaxRatio-P.xMinRatio)*Ce.current.width,U=(P.yMaxRatio-P.yMinRatio)*Ce.current.height,Z=1-(B-(1-P.xMaxRatio)*Ce.current.width)/$,ee=(L-P.yMinRatio*Ce.current.height)/U;ae(Z),re(ee),H=Z,setTimeout((function(){X=Z}),500),W=ee,setTimeout((function(){F=ee}),500),document.getElementById("slam-values").setAttribute("Xratio",H),document.getElementById("slam-values").setAttribute("Yratio",W),fe(_({x1:v,y1:M,x2:f,y2:y,x3:x,y3:b})+_({x1:v,y1:M,x2:x,y2:b,x3:R,y3:k})),ye(_({x1:v,y1:M,x2:R,y2:k,x3:O,y3:j})),function(e){var t=(1-P.xMaxRatio)*Ce.current.width,a=(1-P.xMinRatio)*Ce.current.width,n=P.yMinRatio*Ce.current.height,i=P.yMaxRatio*Ce.current.height,o=new Path2D;o.moveTo(t,n),o.lineTo(t,i),o.lineTo(a,i),o.lineTo(a,n),o.closePath(),e.strokeStyle="blue",e.lineWidth=2,e.stroke(o)}(e)}},Ae=function(){var e=Object(N.a)(T.a.mark((function e(t){var a,n,i,o,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof Se.current||null===Se.current||4!==Se.current.video.readyState){e.next=15;break}return a=Se.current.video,n=Se.current.video.videoWidth,i=Se.current.video.videoHeight,Se.current.video.width=n,Se.current.video.height=i,Ce.current.width=n,Ce.current.height=i,e.next=10,t.estimateFaces(a);case 10:o=e.sent,(r=Ce.current.getContext("2d")).translate(n,0),r.scale(-1,1),De(r,o);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=600/(P.xMaxRatio-P.xMinRatio),Pe=400/(P.yMaxRatio-P.yMinRatio);return i.a.createElement("div",{id:"my-container",style:{opacity:.6}},i.a.createElement("div",{id:"toaster",style:{position:"fixed",bottom:10,left:10,height:40,borderRadius:5,background:"#4864C9",paddingTop:10,paddingLeft:20,paddingRight:20,opacity:0}},i.a.createElement("center",null,i.a.createElement("span",{id:"toaster-message",style:{color:"white",fontSize:18}},"Hello"))),i.a.createElement("div",{id:"slam-values",style:{position:"absolute",width:0,height:0}}),i.a.createElement("div",{style:{position:"absolute",left:25,top:220,zindex:8,width:300,height:500}},i.a.createElement(A.a,{id:"target-button-incrusted",size:"large",onClick:function(){var e=Date.now();e-Y>=1e3&&(Y=e,console.log("XXX",e),f(!m))}},m?"Fond gris":"Incruster"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(A.a,{id:"target-button-refpointmode",size:"large",onClick:function(){var e=Date.now();e-Y>=1e3&&(Y=e,console.log("XXX",e),"nose"===a?(o("median"),K="median"):(o("nose"),K="nose"))}},"nose"===a?"Nez":"Median"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(A.a,{id:"target-button-acc1",size:"large",color:"high"===c?"teal":"grey",onClick:function(){s("high"),J="high",ee({message:'Modifi\xe9 \xe0 "Tr\xe8s sensible"',displayTimeInMs:2e3});var e=(P.xMinRatio+P.xMaxRatio)/2,t=(P.yMinRatio+P.yMaxRatio)/2;P=Z({xMinRatio:e-.09,xMaxRatio:e+.09,yMinRatio:t-.09,yMaxRatio:t+.09})}},"Tr\xe8s sensible"),i.a.createElement("br",null),i.a.createElement(A.a,{id:"target-button-acc2",size:"large",style:{marginTop:3},color:"medium"===c?"teal":"grey",onClick:function(){s("medium"),J="medium",ee({message:'Modifi\xe9 \xe0 "Sensible"',displayTimeInMs:2e3});var e=(P.xMinRatio+P.xMaxRatio)/2,t=(P.yMinRatio+P.yMaxRatio)/2;P=Z({xMinRatio:e-.14,xMaxRatio:e+.14,yMinRatio:t-.14,yMaxRatio:t+.14})}},"Sensible"),i.a.createElement("br",null),i.a.createElement(A.a,{id:"target-button-acc3",size:"large",style:{marginTop:3},color:"low"===c?"teal":"grey",onClick:function(){s("low"),J="low",ee({message:'Modifi\xe9 \xe0 "Peu sensible"',displayTimeInMs:2e3});var e=(P.xMinRatio+P.xMaxRatio)/2,t=(P.yMinRatio+P.yMaxRatio)/2;P=Z({xMinRatio:e-.22,xMaxRatio:e+.22,yMinRatio:t-.22,yMaxRatio:t+.22})}},"Peu sensible"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(A.a,{id:"target-button-refresh",size:"large",color:"grey",onClick:function(){var e=Date.now();e-q>=1e3&&(q=e,window.location.reload())}},"Refresh")),i.a.createElement("div",{className:"fake-scree02n",style:{position:"absolute",left:350,top:15,zindex:8,width:600,height:20}},i.a.createElement("div",null,i.a.createElement(A.a,{id:"target-button-chrono",size:"mini",color:we?"orange":"grey",onClick:function(){Re(!0),je(0),setTimeout((function(){return Re(!1)}),3e4)}},"Chrono ",void 0!==Oe?Oe:""))),i.a.createElement("div",{id:"fake-screen",className:"fake-screen",style:{position:"absolute",left:350,top:50,textAlign:"center",zindex:8,width:600,height:400,background:"whitesmoke"}},i.a.createElement("div",{id:"inner-fake-screen",className:"fake-screen",style:{position:"absolute",left:0,top:0,textAlign:"center",zindex:8,width:600,height:400,background:"whitesmoke",overflow:"hidden"}},i.a.createElement(O.a,{id:"my-inner-webcam",ref:Se,mirrored:!0,style:{opacity:m?1:0,position:"relative",overflow:"hidden",left:-P.xMinRatio*Be,top:-P.yMinRatio*Pe,textAlign:"center",zindex:9,width:Be,height:Pe}})),i.a.createElement("div",{id:"target-yellow",className:"target-yellow",style:Object(S.a)({position:"absolute",left:130,top:30,textAlign:"center",zindex:10,width:35,height:35,background:"yellow"},"yellow"===se&&{border:"3px solid black"}),onClick:function(){"yellow"!==se&&we&&je((function(e){return e+1})),ue("yellow")}}),i.a.createElement("div",{id:"target-purple",className:"target-purple",style:Object(S.a)({position:"absolute",left:380,top:30,textAlign:"center",zindex:8,width:35,height:35,background:"purple"},"purple"===se&&{border:"4px solid black"}),onClick:function(){"purple"!==se&&we&&je((function(e){return e+1})),ue("purple")}}),i.a.createElement("div",{id:"target-orange",className:"target-orange",style:Object(S.a)({position:"absolute",left:280,top:250,textAlign:"center",zindex:8,width:35,height:35,background:"orange"},"orange"===se&&{border:"4px solid black"}),onClick:function(){"orange"!==se&&we&&je((function(e){return e+1})),ue("orange")}}),i.a.createElement("div",{id:"target-brown",className:"target-brown",style:Object(S.a)({position:"absolute",left:70,top:150,textAlign:"center",zindex:8,width:35,height:35,background:"brown"},"brown"===se&&{border:"4px solid black"}),onClick:function(){"brown"!==se&&we&&je((function(e){return e+1})),ue("brown")}}),i.a.createElement("div",{id:"target-grey",className:"target-grey",style:Object(S.a)({position:"absolute",left:250,top:160,textAlign:"center",zindex:8,width:35,height:35,background:"grey"},"grey"===se&&{border:"4px solid black"}),onClick:function(){"grey"!==se&&we&&je((function(e){return e+1})),ue("grey")}}),i.a.createElement("div",{id:"target-blue",className:"target-blue",style:Object(S.a)({position:"absolute",left:80,top:230,textAlign:"center",zindex:8,width:35,height:35,background:"blue"},"blue"===se&&{border:"4px solid black"}),onClick:function(){"blue"!==se&&we&&je((function(e){return e+1})),ue("blue")}}),i.a.createElement("div",{id:"target-pink",className:"target-pink",style:Object(S.a)({position:"absolute",left:420,top:330,textAlign:"center",zindex:8,width:35,height:35,background:"pink"},"pink"===se&&{border:"4px solid black"}),onClick:function(){"pink"!==se&&we&&je((function(e){return e+1})),ue("pink")}}),i.a.createElement("div",{id:"target-teal",className:"target-teal",style:Object(S.a)({position:"absolute",left:520,top:210,textAlign:"center",zindex:8,width:35,height:35,background:"teal"},"teal"===se&&{border:"4px solid black"}),onClick:function(){"teal"!==se&&we&&je((function(e){return e+1})),ue("teal")}}),i.a.createElement("div",{id:"target-lime",className:"target-lime",style:Object(S.a)({position:"absolute",left:110,top:310,textAlign:"center",zindex:8,width:35,height:35,background:"lime"},"lime"===se&&{border:"4px solid black"}),onClick:function(){"lime"!==se&&we&&je((function(e){return e+1})),ue("lime")}}),i.a.createElement("div",{style:{position:"absolute",top:420,textAlign:"center",zindex:8,width:600,height:100}},i.a.createElement(A.a,{id:"target-button-left-minus",size:"large",color:"grey",onClick:function(){var e=Date.now();e-q>=1e3&&(q=e,P.xMinRatio=P.xMinRatio-.02,P=Z(P),ee({message:"Gauche diminu\xe9e !",displayTimeInMs:1e3}))}},"G\u2190"),i.a.createElement(A.a,{id:"target-button-left-plus",size:"large",color:"grey",onClick:function(){var e=Date.now();e-q>=1e3&&(q=e,P.xMinRatio=P.xMinRatio+.02,P=Z(P),ee({message:"Gauche augment\xe9e !",displayTimeInMs:1e3}))}},"G\u2192"),i.a.createElement(A.a,{id:"target-button-right-minus",size:"large",color:"grey",onClick:function(){var e=Date.now();e-q>=1e3&&(q=e,P.xMaxRatio=P.xMaxRatio-.02,P=Z(P),ee({message:"Droite diminu\xe9e !",displayTimeInMs:1e3}))}},"D\u2190"),i.a.createElement(A.a,{id:"target-button-right-plus",size:"large",color:"grey",onClick:function(){var e=Date.now();e-q>=1e3&&(q=e,P.xMaxRatio=P.xMaxRatio+.02,P=Z(P),ee({message:"Droite augment\xe9e !",displayTimeInMs:1e3}))}},"D\u2192"),i.a.createElement(A.a,{id:"target-button-top-minus",size:"large",color:"grey",onClick:function(){var e=Date.now();e-q>=1e3&&(q=e,P.yMinRatio=P.yMinRatio-.02,P=Z(P),ee({message:"Haut mont\xe9 !",displayTimeInMs:1e3}))}},"H\u2191"),i.a.createElement(A.a,{id:"target-button-top-plus",size:"large",color:"grey",onClick:function(){var e=Date.now();e-q>=1e3&&(q=e,P.yMinRatio=P.yMinRatio+.02,P=Z(P),ee({message:"Haut descendu !",displayTimeInMs:1e3}))}},"H\u2193"),i.a.createElement(A.a,{id:"target-button-buttom-minus",size:"large",color:"grey",onClick:function(){var e=Date.now();e-q>=1e3&&(q=e,P.yMaxRatio=P.yMaxRatio-.02,P=Z(P),ee({message:"Bas mont\xe9 !",displayTimeInMs:1e3}))}},"B\u2191"),i.a.createElement(A.a,{id:"target-button-bottom-plus",size:"large",color:"grey",onClick:function(){var e=Date.now();e-q>=1e3&&(q=e,P.yMaxRatio=P.yMaxRatio+.02,P=Z(P),ee({message:"Bas descendu !",displayTimeInMs:1e3}))}},"B\u2193"),i.a.createElement("br",null),i.a.createElement(A.a,{style:{marginTop:5},id:"target-button-recenter",size:"large",color:"grey",onClick:function(){var e=Date.now();e-q>=1e3&&(q=e,$=!0,ee({message:"Recentrage sur point de r\xe9f\xe9rence dans 5s !",displayTimeInMs:2e3}),setTimeout((function(){var e=P.xMaxRatio-P.xMinRatio,t=P.yMaxRatio-P.yMinRatio,a=1-g/Ce.current.width,n=h/Ce.current.height;P=Z({xMinRatio:a-e/2,xMaxRatio:a+e/2,yMinRatio:n-t/2,yMaxRatio:n+t/2}),$=!1,ee({message:"Recentr\xe9 sur point de r\xe9f\xe9rence !",displayTimeInMs:2e3})}),5e3))}},"Recentrer"),i.a.createElement(A.a,{style:{marginTop:5},id:"target-button-recenter",size:"large",color:"grey",onClick:function(){var e=Date.now();if(e-q>=1e3){q=e,$=!0,ee({message:"Recalibration dans 5s (Gauche/Droite/Haut/Bas) !",displayTimeInMs:2e3});var t=[],a=[];setTimeout((function(){ee({message:"Recalibration pendant 10s !",displayTimeInMs:2e3});var e=setInterval((function(){t.push(1-g/Ce.current.width),a.push(h/Ce.current.height)}),100);setTimeout((function(){t.sort(),a.sort(),P=Z({xMinRatio:t[2],xMaxRatio:t[t.length-3],yMinRatio:a[2],yMaxRatio:a[a.length-3]}),clearInterval(e),$=!1,ee({message:"Recalibration termin\xe9e !",displayTimeInMs:2e3})}),1e4)}),5e3)}}},"Recalibrer"),i.a.createElement(A.a,{style:{marginTop:5},id:"target-button-save-settings",size:"large",color:"grey",onClick:function(){var e=Date.now();e-q>=1e3&&(q=e,localStorage.setItem("refPointMode",K),localStorage.setItem("sensibility",J),localStorage.setItem("xMinRatio",P.xMinRatio),localStorage.setItem("xMaxRatio",P.xMaxRatio),localStorage.setItem("yMinRatio",P.yMinRatio),localStorage.setItem("yMaxRatio",P.yMaxRatio),ee({message:"Sauvegard\xe9 !",displayTimeInMs:2e3}))}},"Sauvegarder pour cet appareil"),i.a.createElement(A.a,{id:"target-button-refresh-2",size:"large",color:"grey",onClick:function(){var e=Date.now();e-q>=1e3&&(q=e,window.location.reload())}},"Refresh"),i.a.createElement("div",null,i.a.createElement("br",null),i.a.createElement("span",null,"Gauche: ",U(P.xMinRatio),"%")," - ",i.a.createElement("span",null,"Droite: ",U(P.xMaxRatio),"%"),i.a.createElement("br",null),i.a.createElement("span",null,"Haut: ",U(P.yMinRatio),"%")," - ",i.a.createElement("span",null,"Bas: ",U(P.yMaxRatio),"%"))),i.a.createElement("div",{id:"my-cross-top",style:{position:"fixed",left:te*window.innerWidth+3,top:oe*window.innerHeight-20,textAlign:"center",zindex:8,width:4,height:20,background:M?"lime":"cyan",opacity:$?0:1}}),i.a.createElement("div",{id:"my-cross-bottom",style:{position:"fixed",left:te*window.innerWidth+3,top:oe*window.innerHeight+10,textAlign:"center",zindex:8,width:4,height:20,background:M?"lime":"cyan",opacity:$?0:1}}),i.a.createElement("div",{id:"my-cross-left",style:{position:"fixed",left:te*window.innerWidth-20,top:oe*window.innerHeight+3,textAlign:"center",zindex:8,width:20,height:4,background:M?"lime":"cyan",opacity:$?0:1}}),i.a.createElement("div",{id:"my-cross-right",style:{position:"fixed",left:te*window.innerWidth+10,top:oe*window.innerHeight+3,textAlign:"center",zindex:8,width:20,height:4,background:M?"lime":"cyan",opacity:$?0:1}})),i.a.createElement(O.a,{id:"my-webcam",ref:Se,mirrored:!0,style:{position:"absolute",left:0,right:0,textAlign:"center",zindex:9,width:288,height:200}}),i.a.createElement("canvas",{id:"my-canvas",ref:Ce,style:{position:"absolute",left:0,right:0,textAlign:"center",zindex:9,width:288,height:200}}))},ae=a(107),ne=a(331),ie=a.n(ne),oe=function(){},re=i.a.createContext({onShowNotification:oe,onClearNotifications:oe,success:oe,error:oe}),le={Containers:{DefaultStyle:{padding:"0 15px 15px 15px",width:"320px"}},NotificationItem:{DefaultStyle:{border:"none",color:"#ffffff",padding:"15px"},success:{backgroundColor:"#4864C9",WebkitBoxShadow:"none",MozBoxShadow:"none",boxShadow:"none"},error:{backgroundColor:"#F86E7F",WebkitBoxShadow:"none",MozBoxShadow:"none",boxShadow:"none"}},Dismiss:{DefaultStyle:{backgroundColor:"none",fontWeight:"lighter",top:"16px",right:"10px"},success:{fontSize:"25px"},error:{fontSize:"0px"}}},ce=function(e){return function(t){Object(b.a)(n,t);var a=Object(p.a)(n);function n(e){var t;return Object(y.a)(this,n),(t=a.call(this,e)).notificationSystem=null,t.addNotification=t.addNotification.bind(Object(ae.a)(t)),t.clearNotifications=t.clearNotifications.bind(Object(ae.a)(t)),t.success=t.success.bind(Object(ae.a)(t)),t.error=t.error.bind(Object(ae.a)(t)),t}return Object(x.a)(n,[{key:"componentDidMount",value:function(){this.notificationSystem=this.refs.notificationSystem}},{key:"addNotification",value:function(e){var t=e.message,a=e.level,n=e.type,i=e.autoDismiss;"networkStatus"===n?this.notificationSystem.addNotification({message:"Vous \xeates actuellement hors ligne",level:"error",position:this.props.shiftSidebar?"bl":"br",autoDismiss:0}):this.notificationSystem.addNotification(Object(S.a)({message:t,level:a,position:this.props.shiftSidebar?"bl":"br"},"number"===typeof i&&{autoDismiss:i}))}},{key:"success",value:function(e){this.addNotification({message:e,level:"success"})}},{key:"error",value:function(e){this.addNotification({message:e,level:"error"})}},{key:"clearNotifications",value:function(){this.notificationSystem&&this.notificationSystem.clearNotifications()}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(re.Provider,{value:{onClearNotifications:this.clearNotifications,onShowNotification:this.addNotification,success:this.success,error:this.error}},i.a.createElement(e,Object.assign({},this.props,{addNotification:this.addNotification,onShowNotification:this.addNotification,onClearNotifications:this.clearNotifications}))),i.a.createElement(ie.a,{ref:"notificationSystem",style:le}))}}]),n}(i.a.Component)},se=function(){return i.a.createElement("div",null,i.a.createElement("h1",null,"Test View 1"))},ue=function(){return i.a.createElement("div",null,i.a.createElement("h1",null,"Test View 2"))},de=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(x.a)(a,[{key:"getChildContext",value:function(){return{onShowNotification:this.props.onShowNotification,onClearNotifications:this.props.onClearNotifications}}},{key:"render",value:function(){return i.a.createElement(v.BrowserRouter,null,i.a.createElement(w.LastLocationProvider,null,i.a.createElement(M.g,null,i.a.createElement(M.d,{exact:!0,path:"/",component:te}),i.a.createElement(M.d,{exact:!0,path:"/test1",component:se}),i.a.createElement(M.d,{exact:!0,path:"/test2",component:ue}),i.a.createElement(M.d,{exact:!0,path:"/face",component:j}),i.a.createElement(M.d,{exact:!0,path:"/facelm",component:te}),i.a.createElement(M.c,{from:"*",to:"/404"}))))}}]),a}(n.Component);de.childContextTypes={onShowNotification:k.a.func,onClearNotifications:k.a.func};var me=ce(de),fe=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(x.a)(a,[{key:"render",value:function(){return i.a.createElement(me,null)}}]),a}(n.Component);r.a.render(i.a.createElement(fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[350,1,2]]]);