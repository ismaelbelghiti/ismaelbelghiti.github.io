(this.webpackJsonpsweetreact=this.webpackJsonpsweetreact||[]).push([[0],{350:function(e,t,n){e.exports=n(581)},547:function(e,t,n){},548:function(e,t,n){},555:function(e,t){},556:function(e,t){},564:function(e,t){},581:function(e,t,n){"use strict";n.r(t);n(351),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(378),n(379),n(176),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(405),n(406),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(436),n(437),n(438),n(439),n(440),n(441),n(443),n(444),n(445),n(446),n(453),n(454),n(455),n(457),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(466),n(467),n(284),n(470),n(471),n(472),n(473),n(474),n(475),n(476),n(287),n(477),n(478),n(479),n(480),n(481),n(482),n(484),n(486),n(487),n(488),n(489),n(490),n(491),n(496),n(497),n(498),n(499),n(500),n(501),n(502),n(503),n(504),n(505),n(506),n(507),n(510),n(511),n(512),n(513),n(514),n(515),n(516),n(517),n(518),n(519),n(520),n(521),n(522),n(523),n(524),n(525),n(526),n(527),n(528),n(529),n(530),n(531),n(533),n(534),n(535),n(536),n(538),n(298);var i=n(8),a=n.n(i),o=n(120),r=n.n(o),c=n(166),l=n(602),s=n(302),u=n(303),d=n(599),f=n(139),h=n.n(f);n(543),n(544),c.a.use(d.a).use(s.a).use(u.a).init({fallbackLng:"en",ns:["translations"],defaultNS:"translations",load:"unspecific",debug:!1,saveMissing:!0,interpolation:{escapeValue:!1,formatSeparator:",",format:function(e,t){return e instanceof Date?"relative"===t?h()(e).fromNow():h()(e).format(t):e.toString()}},returnObjects:!0,react:{useSuspense:!0,defaultTransParent:"span"}}),c.a.on("languageChanged",(function(e){h.a.locale(e)})),c.a.on("missingKey",(function(e,t,n){var i=new Error("Missing translation key in ".concat(e,": ").concat(n));l.a(i)}));c.a,n(299),n(545),n(546),n(547),n(548),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var b=n(6),p=n(15),g=n(47),y=n(46),m=n(244),x=n(55),v=n(334),w=n(41),k=n.n(w),O=n(203),j=n.n(O),E=function(){var e=Object(i.useRef)(null),t=Object(i.useRef)(null);return a.a.createElement("div",null,a.a.createElement(j.a,{ref:e,style:{position:"absolute",marginLeft:"auto",marginRight:"auto",left:0,right:0,textAlign:"center",zindex:9,width:720,height:500}}),a.a.createElement("canvas",{ref:t,style:{position:"absolute",marginLeft:"auto",marginRight:"auto",left:0,right:0,textAlign:"center",zindex:9,width:720,height:500}}))},S=n(73),N=n(34),C=n(9),M=n.n(C),z=n(12),A=n(7),T=n(210),P=n(601),D=n(246),W=(n(0),n(580),.4),B=.6,R=.4,F=.6,L=.01,I=.01,V=.01,q=.01,J=!0,H=1,K=1,$=function(e){var t=e.x1,n=e.y1,i=e.x2-t,a=e.y2-n,o=e.x3-t,r=e.y3-n;return Math.abs(i*r-a*o)},_=function(e){var t=e.x1,n=e.y1,i=e.x2-t,a=e.y2-n;return Math.sqrt(i*i+a*a)},G=function(){var e=Object(i.useState)(!1),t=Object(A.a)(e,2),n=(t[0],t[1]),o=Object(i.useState)(!1),r=Object(A.a)(o,2),c=r[0],l=r[1],s=Object(i.useState)(!0),u=Object(A.a)(s,2),d=(u[0],u[1]),f=Object(i.useState)(0),h=Object(A.a)(f,2),b=h[0],p=h[1],g=Object(i.useState)(0),y=Object(A.a)(g,2),m=y[0],x=y[1],v=Object(i.useState)(null),w=Object(A.a)(v,2),k=w[0],O=w[1],E=Object(i.useState)(1),C=Object(A.a)(E,2),G=(C[0],C[1]),Q=Object(i.useState)(1),U=Object(A.a)(Q,2),X=(U[0],U[1]),Y=Object(i.useState)(1),Z=Object(A.a)(Y,2),ee=(Z[0],Z[1]),te=Object(i.useRef)(null),ne=Object(i.useRef)(null),ie=null,ae=function(){var e=Object(z.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.b(D.a.MediaPipeFaceMesh,{runtime:"mediapipe",solutionPath:"https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh"});case 2:ie=e.sent,n(!0),setInterval((function(){return le(ie)}),200);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){ae()}),[]);Object(i.useEffect)((function(){!function e(){var t=350+600*L,n=50+400*I,i=Math.abs(L-V)<=.03&&Math.abs(I-q)<=.03;i!==J&&d(i),J=i;var a=document.elementFromPoint(t,n),o=J&&K>=1.1*H;o&&(l(!0),setTimeout((function(){l(!1)}),300)),o,((null===a||void 0===a?void 0:a.id)||"").indexOf("target-button")>=0&&J&&K>=1.1*H&&a.click(),((null===a||void 0===a?void 0:a.id)||"").indexOf("target")>=0&&J&&K>=1.1*H&&a.click(),setTimeout(e,50)}()}),[]);var oe=function(e){var t=e.ctx,n=e.x,i=e.y,a=e.color,o=e.radius;t.beginPath(),t.arc(n,i,o,0,3*Math.PI),t.fillStyle=a,t.fill()},re=function(e,t,n){if(!T.a.isEmpty(t)){var i,a=0,o=0,r=Object(N.a)(t||[]);try{for(r.s();!(i=r.n()).done;){var c=i.value,l=c.x,s=c.y;a+=l,o+=s}}catch(f){r.e(f)}finally{r.f()}var u=Math.floor(a/t.length),d=Math.floor(o/t.length);oe({ctx:e,x:u,y:d,color:n,radius:2})}},ce=function(e,t){if(null===t||void 0===t?void 0:t[0]){var n,i=t[0],a=(i.box,i.keypoints),o={},r=0,c=Object(N.a)(a||[]);try{for(c.s();!(n=c.n()).done;){var l=n.value;l.name&&(o[l.name]||(o[l.name]=[]),o[l.name].push(Object(S.a)(Object(S.a)({},l),{},{index:r}))),r++}}catch(ce){c.e(ce)}finally{c.f()}re(e,o.leftEye,"aqua"),re(e,o.rightEye,"red"),re(e,o.lips,"yellow"),re(e,o.rightEyebrow,"brown"),re(e,o.leftEyebrow,"purple");!function(e,t,n){var i,a=new Path2D,o=!0,r=Object(N.a)(t||[]);try{for(r.s();!(i=r.n()).done;){var c=i.value,l=c.x,s=c.y;c.name;o?a.moveTo(l,s):a.lineTo(l,s),o=!1}}catch(ce){r.e(ce)}finally{r.f()}a.closePath(),e.strokeStyle=n,e.lineWidth=3,e.stroke(a)}(e,T.a.map([132,58,172,136,150,149,176,148,152,377,400,378,379,365,397,288,361,323,454,356,389,251,284,332,297,338,10,109,67,103,54,21,93,162,234,127],(function(e){return a[e]})),"lightgrey");var s=function(e){var t=e.keypoints;if(T.a.isEmpty(t))return{x:0,y:0};var n,i=0,a=0,o=Object(N.a)(t||[]);try{for(o.s();!(n=o.n()).done;){var r=n.value,c=r.x,l=r.y;i+=c,a+=l}}catch(ce){o.e(ce)}finally{o.f()}return{x:Math.floor(i/t.length),y:Math.floor(a/t.length)}},u=s({keypoints:o.leftEyebrow}),d=u.x,f=u.y,h=s({keypoints:o.rightEyebrow}),b=h.x,g=h.y,y=s({keypoints:o.leftEye}),m=y.x,v=y.y,w=s({keypoints:o.rightEye}),k=w.x,O=w.y,j=s({keypoints:o.lips}),E=j.x,C=j.y,M=Math.floor((m+k)/2),z=Math.floor((v+O)/2),A=Math.floor((d+b)/2),P=Math.floor((f+g)/2),D=Math.floor((2*M+E)/3),J=Math.floor((2*z+C)/3),Q=a[10].x,U=a[10].y,Y=_({x1:A,y1:P,x2:M,y2:z})/Math.max(.001,_({x1:M,y1:z,x2:E,y2:C}))/Math.max(.001,_({x1:M,y1:z,x2:Q,y2:U})/Math.max(.001,_({x1:M,y1:z,x2:E,y2:C})));ee(Y),K=Y,setTimeout((function(){H=Y}),500),oe({ctx:e,x:M,y:z,color:"red",radius:2}),oe({ctx:e,x:D,y:J,color:"green",radius:4}),oe({ctx:e,x:Q,y:U,color:"white",radius:6});var Z=(B-W)*ne.current.width,te=(F-R)*ne.current.height,ie=1-(D-(1-B)*ne.current.width)/Z,ae=(J-R*ne.current.height)/te;p(ie),x(ae),L=ie,setTimeout((function(){V=ie}),500),I=ae,setTimeout((function(){q=ae}),500),G($({x1:m,y1:v,x2:d,y2:f,x3:b,y3:g})+$({x1:m,y1:v,x2:b,y2:g,x3:k,y3:O})),X($({x1:m,y1:v,x2:k,y2:O,x3:E,y3:C})),function(e){var t=(1-B)*ne.current.width,n=(1-W)*ne.current.width,i=R*ne.current.height,a=F*ne.current.height,o=new Path2D;o.moveTo(t,i),o.lineTo(t,a),o.lineTo(n,a),o.lineTo(n,i),o.closePath(),e.strokeStyle="grey",e.lineWidth=2,e.stroke(o)}(e)}},le=function(){var e=Object(z.a)(M.a.mark((function e(t){var n,i,a,o,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof te.current||null===te.current||4!==te.current.video.readyState){e.next=15;break}return n=te.current.video,i=te.current.video.videoWidth,a=te.current.video.videoHeight,te.current.video.width=i,te.current.video.height=a,ne.current.width=i,ne.current.height=a,e.next=10,t.estimateFaces(n);case 10:o=e.sent,(r=ne.current.getContext("2d")).translate(i,0),r.scale(-1,1),ce(r,o);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{id:"my-container",style:{opacity:.6}},a.a.createElement("div",{style:{position:"absolute",left:25,top:230,zindex:8,width:300,height:500}},a.a.createElement(P.a,{id:"target-button",size:"large",onClick:function(){console.log("hehe")}},"Start")),a.a.createElement("div",{id:"fake-screen",className:"fake-screen",style:{position:"absolute",left:350,top:50,textAlign:"center",zindex:8,width:600,height:400,background:"whitesmoke"}},a.a.createElement("div",{id:"target-yellow",className:"target-yellow",style:Object(S.a)({position:"absolute",left:130,top:30,textAlign:"center",zindex:10,width:35,height:35,background:"yellow"},"yellow"===k&&{border:"3px solid black"}),onClick:function(){O("yellow")}}),a.a.createElement("div",{id:"target-purple",className:"target-purple",style:Object(S.a)({position:"absolute",left:380,top:30,textAlign:"center",zindex:8,width:35,height:35,background:"purple"},"purple"===k&&{border:"4px solid black"}),onClick:function(){O("purple")}}),a.a.createElement("div",{id:"target-orange",className:"target-orange",style:Object(S.a)({position:"absolute",left:280,top:250,textAlign:"center",zindex:8,width:35,height:35,background:"orange"},"orange"===k&&{border:"4px solid black"}),onClick:function(){O("orange")}}),a.a.createElement("div",{id:"target-brown",className:"target-brown",style:Object(S.a)({position:"absolute",left:70,top:150,textAlign:"center",zindex:8,width:35,height:35,background:"brown"},"brown"===k&&{border:"4px solid black"}),onClick:function(){O("brown")}}),a.a.createElement("div",{id:"target-grey",className:"target-grey",style:Object(S.a)({position:"absolute",left:250,top:160,textAlign:"center",zindex:8,width:35,height:35,background:"grey"},"grey"===k&&{border:"4px solid black"}),onClick:function(){O("grey")}}),a.a.createElement("div",{id:"target-blue",className:"target-blue",style:Object(S.a)({position:"absolute",left:80,top:230,textAlign:"center",zindex:8,width:35,height:35,background:"blue"},"blue"===k&&{border:"4px solid black"}),onClick:function(){O("blue")}}),a.a.createElement("div",{id:"target-pink",className:"target-pink",style:Object(S.a)({position:"absolute",left:420,top:330,textAlign:"center",zindex:8,width:35,height:35,background:"pink"},"pink"===k&&{border:"4px solid black"}),onClick:function(){O("pink")}}),a.a.createElement("div",{id:"target-teal",className:"target-teal",style:Object(S.a)({position:"absolute",left:520,top:210,textAlign:"center",zindex:8,width:35,height:35,background:"teal"},"teal"===k&&{border:"4px solid black"}),onClick:function(){O("teal")}}),a.a.createElement("div",{id:"target-lime",className:"target-lime",style:Object(S.a)({position:"absolute",left:110,top:310,textAlign:"center",zindex:8,width:35,height:35,background:"lime"},"lime"===k&&{border:"4px solid black"}),onClick:function(){O("lime")}}),a.a.createElement("div",{id:"my-cross-top",style:{position:"absolute",left:600*b+3,top:400*m-20,textAlign:"center",zindex:8,width:4,height:20,background:c?"red":"cyan"}}),a.a.createElement("div",{id:"my-cross-bottom",style:{position:"absolute",left:600*b+3,top:400*m+10,textAlign:"center",zindex:8,width:4,height:20,background:c?"red":"cyan"}}),a.a.createElement("div",{id:"my-cross-left",style:{position:"absolute",left:600*b-20,top:400*m+3,textAlign:"center",zindex:8,width:20,height:4,background:c?"red":"cyan"}}),a.a.createElement("div",{id:"my-cross-right",style:{position:"absolute",left:600*b+10,top:400*m+3,textAlign:"center",zindex:8,width:20,height:4,background:c?"red":"cyan"}})),a.a.createElement(j.a,{id:"my-webcam",ref:te,mirrored:!0,style:{position:"absolute",left:0,right:0,textAlign:"center",zindex:9,width:288,height:200}}),a.a.createElement("canvas",{id:"my-canvas",ref:ne,style:{position:"absolute",left:0,right:0,textAlign:"center",zindex:9,width:288,height:200}}))},Q=n(107),U=n(331),X=n.n(U),Y=function(){},Z=a.a.createContext({onShowNotification:Y,onClearNotifications:Y,success:Y,error:Y}),ee={Containers:{DefaultStyle:{padding:"0 15px 15px 15px",width:"320px"}},NotificationItem:{DefaultStyle:{border:"none",color:"#ffffff",padding:"15px"},success:{backgroundColor:"#4864C9",WebkitBoxShadow:"none",MozBoxShadow:"none",boxShadow:"none"},error:{backgroundColor:"#F86E7F",WebkitBoxShadow:"none",MozBoxShadow:"none",boxShadow:"none"}},Dismiss:{DefaultStyle:{backgroundColor:"none",fontWeight:"lighter",top:"16px",right:"10px"},success:{fontSize:"25px"},error:{fontSize:"0px"}}},te=function(e){return function(t){Object(g.a)(i,t);var n=Object(y.a)(i);function i(e){var t;return Object(b.a)(this,i),(t=n.call(this,e)).notificationSystem=null,t.addNotification=t.addNotification.bind(Object(Q.a)(t)),t.clearNotifications=t.clearNotifications.bind(Object(Q.a)(t)),t.success=t.success.bind(Object(Q.a)(t)),t.error=t.error.bind(Object(Q.a)(t)),t}return Object(p.a)(i,[{key:"componentDidMount",value:function(){this.notificationSystem=this.refs.notificationSystem}},{key:"addNotification",value:function(e){var t=e.message,n=e.level,i=e.type,a=e.autoDismiss;"networkStatus"===i?this.notificationSystem.addNotification({message:"Vous \xeates actuellement hors ligne",level:"error",position:this.props.shiftSidebar?"bl":"br",autoDismiss:0}):this.notificationSystem.addNotification(Object(S.a)({message:t,level:n,position:this.props.shiftSidebar?"bl":"br"},"number"===typeof a&&{autoDismiss:a}))}},{key:"success",value:function(e){this.addNotification({message:e,level:"success"})}},{key:"error",value:function(e){this.addNotification({message:e,level:"error"})}},{key:"clearNotifications",value:function(){this.notificationSystem&&this.notificationSystem.clearNotifications()}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Z.Provider,{value:{onClearNotifications:this.clearNotifications,onShowNotification:this.addNotification,success:this.success,error:this.error}},a.a.createElement(e,Object.assign({},this.props,{addNotification:this.addNotification,onShowNotification:this.addNotification,onClearNotifications:this.clearNotifications}))),a.a.createElement(X.a,{ref:"notificationSystem",style:ee}))}}]),i}(a.a.Component)},ne=function(){return a.a.createElement("div",null,a.a.createElement("h1",null,"Test View 1"))},ie=function(){return a.a.createElement("div",null,a.a.createElement("h1",null,"Test View 2"))},ae=function(e){Object(g.a)(n,e);var t=Object(y.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"getChildContext",value:function(){return{onShowNotification:this.props.onShowNotification,onClearNotifications:this.props.onClearNotifications}}},{key:"render",value:function(){return a.a.createElement(m.BrowserRouter,null,a.a.createElement(v.LastLocationProvider,null,a.a.createElement(x.g,null,a.a.createElement(x.d,{exact:!0,path:"/",component:G}),a.a.createElement(x.d,{exact:!0,path:"/test1",component:ne}),a.a.createElement(x.d,{exact:!0,path:"/test2",component:ie}),a.a.createElement(x.d,{exact:!0,path:"/face",component:E}),a.a.createElement(x.d,{exact:!0,path:"/facelm",component:G}),a.a.createElement(x.c,{from:"*",to:"/404"}))))}}]),n}(i.Component);ae.childContextTypes={onShowNotification:k.a.func,onClearNotifications:k.a.func};var oe=te(ae),re=function(e){Object(g.a)(n,e);var t=Object(y.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return a.a.createElement(oe,null)}}]),n}(i.Component);r.a.render(a.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[350,1,2]]]);